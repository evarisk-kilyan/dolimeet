"use strict";window.dolimeet||(window.dolimeet={},window.dolimeet.scriptsLoaded=!1),window.dolimeet.scriptsLoaded||(window.dolimeet.init=function(){window.dolimeet.load_list_script()},window.dolimeet.load_list_script=function(){if(!window.dolimeet.scriptsLoaded){let e=void 0,o=void 0;for(e in window.dolimeet)for(o in window.dolimeet[e].init&&window.dolimeet[e].init(),window.dolimeet[e])window.dolimeet[e]&&window.dolimeet[e][o]&&window.dolimeet[e][o].init&&window.dolimeet[e][o].init();window.dolimeet.scriptsLoaded=!0}},window.dolimeet.refresh=function(){let e=void 0,o=void 0;for(e in window.dolimeet)for(o in window.dolimeet[e].refresh&&window.dolimeet[e].refresh(),window.dolimeet[e])window.dolimeet[e]&&window.dolimeet[e][o]&&window.dolimeet[e][o].refresh&&window.dolimeet[e][o].refresh()},$(document).ready(window.dolimeet.init)),window.dolimeet.session={},window.dolimeet.session.init=function(){window.dolimeet.session.event()},window.dolimeet.session.event=function(){$(document).on("change","#fk_soc",window.dolimeet.session.reloadField),$(document).on("change","#modele",window.dolimeet.session.test),$(document).on("change","#element_type",window.dolimeet.session.test2)},window.dolimeet.session.reloadField=function(){var e=document.getElementById("session_form"),e=new FormData(e),o=window.saturne.toolbox.getToken(),i=window.saturne.toolbox.getQuerySeparator(document.URL);let t=e.get("fk_soc"),n=(-1==t&&(t=0),"");document.URL.match("action=")||("add"==(e=e.get("action"))?n="&action=create":"update"==e&&(n="&action=edit")),$.ajax({url:document.URL+i+"fk_soc="+t+"&token="+o+n,type:"POST",processData:!1,contentType:!1,success:function(e){$(".field_fk_project").replaceWith($(e).find(".field_fk_project")),$(".field_fk_contrat").replaceWith($(e).find(".field_fk_contrat"))},error:function(){}})},window.dolimeet.session.test=function(){var e=window.saturne.toolbox.getToken(),o=window.saturne.toolbox.getQuerySeparator(document.URL),i=this.checked?"on":"off";$.ajax({url:document.URL+o+"modele="+i+"&token="+e,type:"POST",processData:!1,contentType:!1,success:function(e){$(".fiche").replaceWith($(e).find(".fiche"))},error:function(){}})},window.dolimeet.session.test2=function(){var e=window.saturne.toolbox.getToken(),o=window.saturne.toolbox.getQuerySeparator(document.URL),i=$(this).val(),t=$("#modele").is(":checked")?"on":"off";window.saturne.loader.display($(".field_element_type")),window.saturne.loader.display($(".field_fk_element")),$.ajax({url:document.URL+o+"modele="+t+"&element_type="+i+"&token="+e,type:"POST",processData:!1,contentType:!1,success:function(e){$(".field_element_type").replaceWith($(e).find(".field_element_type")),$(".field_fk_element").replaceWith($(e).find(".field_fk_element"))},error:function(){}})};